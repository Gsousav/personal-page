// ============================================
// Translations
// ============================================
const translations = {
    en: {
        nav: {
            about: "About",
            experience: "Experience",
            education: "Education",
            skills: "Skills",
            contact: "Get in Touch"
        },
        hero: {
            badge: "Available for Opportunities",
            title1: "Gabriel Sousa",
            title2: "Automation & Intelligence",
            subtitle: "Business Administration Professional specializing in Finance, Data Science & AI. I transform complex processes into efficient, automated solutions that drive measurable results.",
            stat1: "Faster Processing",
            stat2: "Response Rate",
            stat3: "Min Saved/Doc",
            cta1: "Let's Connect",
            cta2: "View My Work",
            scroll: "Scroll to explore"
        },
        about: {
            label: "Who I Am",
            title: "About Me",
            lead: "I'm a curious, self-taught professional with a background in business administration, specialization in finance, and a complementary focus on artificial intelligence and data analysis.",
            description: "Passionate about understanding the 'why' behind processes and continuously improving operational efficiency through technical solutions. I bring hands-on experience in automation, financial analysis, and process optimization.",
            highlight1: "Process Automation",
            highlight1desc: "Building systems that work smarter, not harder",
            highlight2: "Data-Driven Decisions",
            highlight2desc: "Turning numbers into actionable insights",
            highlight3: "Efficiency Focus",
            highlight3desc: "Optimizing every step of the journey"
        },
        experience: {
            label: "My Journey",
            title: "Professional Experience",
            job1: {
                date: "Feb 2025 â€“ Aug 2025",
                title: "Office Administrator & Data Transfer",
                location: "Amsterdam, Netherlands",
                detail1: "Provided customer service for document preparation and USB delivery",
                detail2: "Automated compliance letter generation, eliminating errors and saving 10+ minutes per document",
                detail3: "Created a document validator that's 500Ã— faster than the previous manual process",
                detail4: "Optimized USB transfer workflows through automation, reducing errors and operational time"
            },
            job2: {
                date: "Dec 2021 - Feb 2022",
                title: "Operations Intern",
                location: "Lima, Peru",
                detail1: "Increased customer response rate by 4Ã— through WhatsApp automation",
                detail2: "Co-designed a chatbot and optimized Excel reports, improving internal data management",
                detail3: "Enhanced operational communication, accelerating customer response times"
            },
            job3: {
                date: "Jun 2020 - Apr 2021",
                title: "Fuel Logistics Trainee",
                location: "Callao, Peru",
                detail1: "Coordinated fuel delivery logistics to vessels, ensuring port operational efficiency",
                detail2: "Conducted real-time inventory tracking and processed purchase orders without delays",
                detail3: "Organized tenders and negotiated supplier pricing to reduce costs",
                detail4: "Proposed supply and inventory flow improvements, optimizing the logistics chain"
            }
        },
        education: {
            label: "Academic Background",
            title: "Education",
            degree1: "Bachelor's in Business Administration",
            specialization1: "Finance Specialization â€¢ Minor in Data Science & AI",
            date1: "Aug 2022 - Jul 2025",
            badge1: "Cum Laude",
            degree2: "Bachelor's in Industrial Engineering",
            incomplete: "(Incomplete)",
            date2: "Apr - Dec 2021",
            badge2: "Top 10%"
        },
        skills: {
            label: "What I Bring",
            title: "Skills & Expertise",
            category1: "Technical Skills",
            category2: "Core Competencies",
            category3: "Languages",
            competency1: "Process Automation",
            competency2: "Financial Analysis",
            competency3: "Data Visualization",
            competency4: "Critical Thinking",
            competency5: "Problem Solving",
            competency6: "System Design",
            lang1: "Spanish",
            lang1level: "Native",
            lang2: "English",
            lang2level: "Fluent"
        },
        contact: {
            title: "Let's Work Together",
            subtitle: "Ready to discuss how I can help automate and optimize your business processes.",
            email: "Email",
            phone: "Phone",
            linkedin: "LinkedIn",
            location: "Location"
        },
        footer: {
            copyright: "Â© 2025 Gabriel Sousa. Crafted with precision and passion."
        },
        meta: {
            description: "Gabriel Sousa - Business Administration Professional specializing in Finance, Data Science & AI. Transforming businesses through automation and data intelligence.",
            title: "Gabriel Sousa - Business Automation & Data Intelligence"
        }
    },
    es: {
        nav: {
            about: "Sobre MÃ­",
            experience: "Experiencia",
            education: "EducaciÃ³n",
            skills: "Habilidades",
            contact: "Contacto"
        },
        hero: {
            badge: "Disponible para Oportunidades",
            title1: "Gabriel Sousa",
            title2: "AutomatizaciÃ³n e Inteligencia",
            subtitle: "Profesional en AdministraciÃ³n de Empresas especializado en Finanzas, Ciencia de Datos e IA. Transformo procesos complejos en soluciones eficientes y automatizadas que generan resultados medibles.",
            stat1: "Procesamiento MÃ¡s RÃ¡pido",
            stat2: "Tasa de Respuesta",
            stat3: "Min Ahorrados/Doc",
            cta1: "Conectemos",
            cta2: "Ver Mi Trabajo",
            scroll: "DesplÃ¡zate para explorar"
        },
        about: {
            label: "QuiÃ©n Soy",
            title: "Sobre MÃ­",
            lead: "Soy un profesional curioso, autodidacta, con formaciÃ³n en administraciÃ³n de empresas, especializaciÃ³n en finanzas y un enfoque complementario en inteligencia artificial y anÃ¡lisis de datos.",
            description: "Apasionado por entender el 'por quÃ©' detrÃ¡s de los procesos y mejorar continuamente la eficiencia operativa mediante soluciones tÃ©cnicas. Aporto experiencia prÃ¡ctica en automatizaciÃ³n, anÃ¡lisis financiero y optimizaciÃ³n de procesos.",
            highlight1: "AutomatizaciÃ³n de Procesos",
            highlight1desc: "Construyendo sistemas que trabajan mÃ¡s inteligentemente",
            highlight2: "Decisiones Basadas en Datos",
            highlight2desc: "Convirtiendo nÃºmeros en insights accionables",
            highlight3: "Enfoque en Eficiencia",
            highlight3desc: "Optimizando cada paso del recorrido"
        },
        experience: {
            label: "Mi Trayectoria",
            title: "Experiencia Profesional",
            job1: {
                date: "Feb 2025 â€“ Ago 2025",
                title: "Administrador de Oficina y Transferencia de Datos",
                location: "Amsterdam, PaÃ­ses Bajos",
                detail1: "BrindÃ© servicio al cliente en preparaciÃ³n de documentos y entrega de USB",
                detail2: "AutomaticÃ© la generaciÃ³n de cartas de conformidad, eliminando errores y ahorrando mÃ¡s de 10 minutos por documento",
                detail3: "CreÃ© un validador de documentos 500Ã— mÃ¡s rÃ¡pido que el proceso manual anterior",
                detail4: "OptimicÃ© los flujos de transferencia de USB mediante automatizaciÃ³n, reduciendo errores y tiempo operativo"
            },
            job2: {
                date: "Dic 2021 - Feb 2022",
                title: "Practicante de Operaciones",
                location: "Lima, PerÃº",
                detail1: "AumentÃ© la tasa de respuesta de clientes en 4Ã— mediante automatizaciÃ³n por WhatsApp",
                detail2: "CodiseÃ±Ã© un chatbot y optimicÃ© reportes en Excel, mejorando la gestiÃ³n de datos internos",
                detail3: "MejorÃ© la comunicaciÃ³n operativa, acelerando los tiempos de respuesta con clientes"
            },
            job3: {
                date: "Jun 2020 - Abr 2021",
                title: "Trainee de LogÃ­stica de Combustibles",
                location: "Callao, PerÃº",
                detail1: "CoordinÃ© la logÃ­stica de entrega de combustibles a embarcaciones, asegurando eficiencia operativa portuaria",
                detail2: "RealicÃ© seguimiento de inventarios en tiempo real y procesÃ© Ã³rdenes de compra sin demoras",
                detail3: "OrganicÃ© licitaciones y negociÃ© precios con proveedores para reducir costos",
                detail4: "Propuse mejoras en flujos de abastecimiento e inventario, optimizando la cadena logÃ­stica"
            }
        },
        education: {
            label: "FormaciÃ³n AcadÃ©mica",
            title: "EducaciÃ³n",
            degree1: "Pregrado en AdministraciÃ³n de Empresas",
            specialization1: "EspecializaciÃ³n en Finanzas â€¢ Minor en Ciencia de Datos e IA",
            date1: "Ago 2022 - Jul 2025",
            badge1: "Cum Laude",
            degree2: "Pregrado en IngenierÃ­a Industrial",
            incomplete: "(Incompleto)",
            date2: "Abr - Dic 2021",
            badge2: "DÃ©cimo Superior"
        },
        skills: {
            label: "Lo Que Aporto",
            title: "Habilidades y Experiencia",
            category1: "Habilidades TÃ©cnicas",
            category2: "Competencias Principales",
            category3: "Idiomas",
            competency1: "AutomatizaciÃ³n de Procesos",
            competency2: "AnÃ¡lisis Financiero",
            competency3: "VisualizaciÃ³n de Datos",
            competency4: "Pensamiento CrÃ­tico",
            competency5: "ResoluciÃ³n de Problemas",
            competency6: "DiseÃ±o de Sistemas",
            lang1: "EspaÃ±ol",
            lang1level: "Nativo",
            lang2: "InglÃ©s",
            lang2level: "Fluido",
            lang3: "HolandÃ©s",
            lang3level: "BÃ¡sico",
            lang4: "FrancÃ©s",
            lang4level: "BÃ¡sico"
        },
        contact: {
            title: "Trabajemos Juntos",
            subtitle: "Listo para discutir cÃ³mo puedo ayudar a automatizar y optimizar los procesos de tu negocio.",
            email: "Correo",
            phone: "TelÃ©fono",
            linkedin: "LinkedIn",
            location: "UbicaciÃ³n"
        },
        footer: {
            copyright: "Â© 2025 Gabriel Sousa. Creado con precisiÃ³n y pasiÃ³n."
        },
        meta: {
            description: "Gabriel Sousa - Profesional en AdministraciÃ³n de Empresas especializado en Finanzas, Ciencia de Datos e IA. Transformando negocios mediante automatizaciÃ³n e inteligencia de datos.",
            title: "Gabriel Sousa - AutomatizaciÃ³n e Inteligencia de Negocios"
        }
    }
};

// ============================================
// Language Management
// ============================================
let currentLang = 'en';

function setLanguage(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const keys = key.split('.');
        let translation = translations[lang];
        
        for (let k of keys) {
            translation = translation?.[k];
        }
        
        if (translation) {
            // Preserve HTML structure for certain elements
            if (element.querySelector('strong') || translation.includes('<strong>')) {
                element.innerHTML = translation;
            } else {
                element.textContent = translation;
            }
        }
    });
    
    // Update language switcher
    const langSwitcher = document.getElementById('langSwitcher');
    if (langSwitcher) {
        langSwitcher.querySelector('.lang-code').textContent = lang === 'es' ? 'EN' : 'ES';
    }
    
    // Update meta tags
    const metaDesc = document.getElementById('metaDescription');
    const pageTitle = document.getElementById('pageTitle');
    if (metaDesc && translations[lang]?.meta?.description) {
        metaDesc.setAttribute('content', translations[lang].meta.description);
    }
    if (pageTitle && translations[lang]?.meta?.title) {
        pageTitle.textContent = translations[lang].meta.title;
    }
}

// Initialize language
setLanguage(currentLang);

// Language switcher
document.getElementById('langSwitcher').addEventListener('click', () => {
    const newLang = currentLang === 'es' ? 'en' : 'es';
    setLanguage(newLang);
});

// ============================================
// Smooth Scrolling
// ============================================
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            const navHeight = document.querySelector('.navbar').offsetHeight;
            const targetPosition = target.offsetTop - navHeight - 20;
            
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
        }
    });
});

// ============================================
// Navbar Scroll Effect
// ============================================
const navbar = document.getElementById('navbar');
let lastScroll = 0;

window.addEventListener('scroll', () => {
    const currentScroll = window.pageYOffset;
    
    if (currentScroll > 50) {
        navbar.classList.add('scrolled');
    } else {
        navbar.classList.remove('scrolled');
    }
    
    lastScroll = currentScroll;
});

// ============================================
// Intersection Observer for Animations
// ============================================
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('fade-in');
            
            // Animate skill bars when visible
            if (entry.target.classList.contains('skill-item')) {
                const skillFill = entry.target.querySelector('.skill-fill');
                if (skillFill) {
                    const width = skillFill.style.width;
                    skillFill.style.width = '0';
                    setTimeout(() => {
                        skillFill.style.width = width;
                    }, 100);
                }
            }
        }
    });
}, observerOptions);

// Observe elements for animation
document.querySelectorAll('.section, .timeline-item, .education-card, .about-card, .skill-item').forEach(el => {
    observer.observe(el);
});

// ============================================
// Cursor Effect (Optional - Premium Touch)
// ============================================
const createCursorEffect = () => {
    const cursor = document.createElement('div');
    cursor.className = 'custom-cursor';
    cursor.style.cssText = `
        position: fixed;
        width: 20px;
        height: 20px;
        border: 2px solid var(--color-accent);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        transition: transform 0.2s ease;
        display: none;
    `;
    document.body.appendChild(cursor);
    
    document.addEventListener('mousemove', (e) => {
        cursor.style.display = 'block';
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
    });
    
    // Scale on interactive elements
    document.querySelectorAll('a, button, .contact-item').forEach(el => {
        el.addEventListener('mouseenter', () => {
            cursor.style.transform = 'scale(1.5)';
        });
        el.addEventListener('mouseleave', () => {
            cursor.style.transform = 'scale(1)';
        });
    });
};

// Only enable cursor effect on desktop
if (window.innerWidth > 1024) {
    createCursorEffect();
}

// ============================================
// Performance: Lazy Loading Images
// ============================================
if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src) {
                    img.src = img.dataset.src;
                    img.removeAttribute('data-src');
                    observer.unobserve(img);
                }
            }
        });
    });
    
    document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
    });
}

// ============================================
// Console Easter Egg
// ============================================
console.log('%cðŸ‘‹ Hey there!', 'font-size: 20px; font-weight: bold; color: #3B82F6;');
console.log('%cLooking under the hood? I like your style!', 'font-size: 14px; color: #64748B;');
console.log('%cLet\'s connect: gssousav@gmail.com', 'font-size: 12px; color: #0F172A;');